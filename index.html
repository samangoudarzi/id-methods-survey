<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <meta name="description" content="">
    <meta name="author" content="samangoudarzi">
    <title></title>
    <!-- stylesheet -->
    <link href='css/style.css' rel='stylesheet' />
    <!-- script -->
    <script src="js/script.js"></script>
    <!-- JQuery -->
    <script type = "text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" charset="utf-8"></script>
    <!-- Mixit Up API -->
    <script type = "text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/mixitup/2.1.11/jquery.mixitup.js"charset="utf-8"></script>
</head>
<body>
<div class= 'banner'>
<div class="about">
about
</div>
<div class="filter">
filters
</div>
<button class="arrow" type="button"> 
  <span class="arrow-hand top"></span>
  <span class="arrow-hand bottom"></span>
</button>
<div class="menu" style="display:none;"><span>
  <form class="controls" id="Filters">
    <fieldset class="filter-group checkboxes">
  <table>
  <h4>classifier</h4>
  <tr>
    <th></th>
    <th></th> 
    <th></th>
  </tr>
  <tr>
    <td>
    <div class="checkbox">
      <input type="checkbox" value=".dt"/>
      <label>decision tree</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".svm"/>
      <label>support vector machine</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".other"/>
      <label>other</label>
    </div>
    </td>
   <!-- <td> 
    <div class="checkbox">
      <input type="checkbox" value=".square"/>
      <label>Square</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".circle"/>
      <label>Circle</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".triangle"/>
      <label>Triangle</label>
    </div>
    </td>
    <td>
          <div class="checkbox">
      <input type="checkbox" value=".square"/>
      <label>Square</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".circle"/>
      <label>Circle</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".triangle"/>
      <label>Triangle</label>
    </div>
    </td>
  </tr>-->
</table>
  </fieldset>
      <fieldset class="filter-group checkboxes">
  <table>
  <h4>
  feature type
  </h4>
  <tr>
    <th></th>
    <th></th> 
    <th></th>
  </tr>
  <tr>
    <td>
    <div class="checkbox">
      <input type="checkbox" value=".con"/>
      <label>content</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".vis"/>
      <label>visual</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".name"/>
      <label>name</label>
    </div>
    </td>
    <td> 
    <div class="checkbox">
      <input type="checkbox" value=".physical"/>
      <label>physical</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".network"/>
      <label>network</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".combo"/>
      <label>combination</label>
    </div>
    </td>
    <!--<td>
          <div class="checkbox">
      <input type="checkbox" value=".square"/>
      <label>Square</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".circle"/>
      <label>Circle</label>
    </div>
    <div class="checkbox">
      <input type="checkbox" value=".triangle"/>
      <label>Triangle</label>
    </div>
    </td>
  </tr>-->
</table>
  </fieldset>
    <button id="Reset">Clear Filters</button>
  </form>
</span></div>
</div>
<div id="Container" class="container">
<div class= 'lit_body'>
<div class="mix dt physical">
<div class='card' id='c1'>
  <a class='open' href='#c1'>
    Headline 1
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
      9/11 was an inside job
    </p>
  </div>
  </div>
</div>
<div class="mix svm name">
<div class='card' id='c2'>
  <a class='open' href='#c2'>
    Headline 2
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
      the queen is a lizard
    </p>
  </div>
</div>
</div>
<div class="mix svm combo">
<div class='card' id='c3'>
  <a class='open' href='#c3'>
    Headline 3
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
      childish gambino and donald glover r the same person
    </p>
  </div>
</div>
</div>
<div class="mix other">
<div class='card' id='c4'>
  <a class='open' href='#c4'>
    Headline 4
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
   the cia killed kennedy 
    </p>
  </div>
</div>
</div>
<div class="mix circle">
<div class='card' id='c5'>
  <a class='open' href='#c5'>
    Headline 5
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
    bless this post
    </p>
  </div>
</div>
</div>
</div>
<div class= 'lit_body'>
<div class="mix triangle">
<div class='card' id='c1'>
  <a class='open' href='#c1'>
    Headline 1
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
      9/11 was an inside job
    </p>
  </div>
  </div>
</div>
<div class="mix circle">
<div class='card' id='c2'>
  <a class='open' href='#c2'>
    Headline 2
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
      the queen is a lizard
    </p>
  </div>
</div>
</div>
<div class="mix triangle">
<div class='card' id='c3'>
  <a class='open' href='#c3'>
    Headline 3
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
      childish gambino and donald glover r the same person
    </p>
  </div>
</div>
</div>
<div class="mix square">
<div class='card' id='c4'>
  <a class='open' href='#c4'>
    Headline 4
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
   the cia killed kennedy 
    </p>
  </div>
</div>
</div>
<div class="mix circle">
<div class='card' id='c5'>
  <a class='open' href='#c5'>
    Headline 5
  </a>
  <div class='content'>
    <a class='close' href='#'>x</a>
    <p>
    bless this post
    </p>
  </div>
</div>
</div>
</div>
</div>
</body>
<script>
 //menu
var button='button';
var arrow='arrow';
$("button.arrow").on('click',function(e){
  $("button.arrow").toggleClass("cross");
  $(".menu").slideToggle("");
});

// To keep our code clean and modular, all custom functionality will be contained inside a single object literal called "checkboxFilter".

var checkboxFilter = {
  
  // Declare any variables we will need as properties of the object
  
  $filters: null,
  $reset: null,
  groups: [],
  outputArray: [],
  outputString: '',
  
  // The "init" method will run on document ready and cache any jQuery objects we will need.
  
  init: function(){
    var self = this; // As a best practice, in each method we will asign "this" to the variable "self" so that it remains scope-agnostic. We will use it to refer to the parent "checkboxFilter" object so that we can share methods and properties between all parts of the object.
    
    self.$filters = $('#Filters');
    self.$reset = $('#Reset');
    self.$container = $('#Container');
    
    self.$filters.find('fieldset').each(function(){
      self.groups.push({
        $inputs: $(this).find('input'),
        active: [],
		    tracker: false
      });
    });
    
    self.bindHandlers();
  },
  
  // The "bindHandlers" method will listen for whenever a form value changes. 
  
  bindHandlers: function(){
    var self = this;
    
    self.$filters.on('change', function(){
      self.parseFilters();
    });
    
    self.$reset.on('click', function(e){
      e.preventDefault();
      self.$filters[0].reset();
      self.parseFilters();
    });
  },
  
  // The parseFilters method checks which filters are active in each group:
  
  parseFilters: function(){
    var self = this;
 
    // loop through each filter group and add active filters to arrays
    
    for(var i = 0, group; group = self.groups[i]; i++){
      group.active = []; // reset arrays
      group.$inputs.each(function(){ 
        $(this).is(':checked') && group.active.push(this.value);
      });
	    group.active.length && (group.tracker = 0);
    }
    
    self.concatenate();
  },
  
  // The "concatenate" method will crawl through each group, concatenating filters as desired:
  
  concatenate: function(){
    var self = this,
		  cache = '',
		  crawled = false,
		  checkTrackers = function(){
        var done = 0;
        
        for(var i = 0, group; group = self.groups[i]; i++){
          (group.tracker === false) && done++;
        }

        return (done < self.groups.length);
      },
      crawl = function(){
        for(var i = 0, group; group = self.groups[i]; i++){
          group.active[group.tracker] && (cache += group.active[group.tracker]);

          if(i === self.groups.length - 1){
            self.outputArray.push(cache);
            cache = '';
            updateTrackers();
          }
        }
      },
      updateTrackers = function(){
        for(var i = self.groups.length - 1; i > -1; i--){
          var group = self.groups[i];

          if(group.active[group.tracker + 1]){
            group.tracker++; 
            break;
          } else if(i > 0){
            group.tracker && (group.tracker = 0);
          } else {
            crawled = true;
          }
        }
      };
    
    self.outputArray = []; // reset output array

	  do{
		  crawl();
	  }
	  while(!crawled && checkTrackers());

    self.outputString = self.outputArray.join();
    
    // If the output string is empty, show all rather than none:
    
    !self.outputString.length && (self.outputString = 'all'); 
    
    //console.log(self.outputString); 
    
    // ^ we can check the console here to take a look at the filter string that is produced
    
    // Send the output string to MixItUp via the 'filter' method:
    
	  if(self.$container.mixItUp('isLoaded')){
    	self.$container.mixItUp('filter', self.outputString);
	  }
  }
};
  
// On document ready, initialise our code.

$(function(){
      
  // Initialize checkboxFilter code
      
  checkboxFilter.init();
      
  // Instantiate MixItUp
      
  $('#Container').mixItUp({
    controls: {
      enable: false // we won't be needing these
    },
    animation: {
      easing: 'cubic-bezier(0.86, 0, 0.07, 1)',
      duration: 600
    }
  });    
});
    </script>
</html>
